import React, { useState, useEffect } from 'react';
import { VALORANT_CONTENT } from '../api/riotAPI';
import PageHeader from '../components/layout/PageHeader';
import ResponsiveContainer from '../components/layout/ResponsiveContainer';

const CompetitiveIntel = () => {
  const [intelData, setIntelData] = useState(null);
  const [selectedCategory, setSelectedCategory] = useState('trends');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    generateCompetitiveIntel();
  }, [selectedCategory]);

  const generateCompetitiveIntel = () => {
    setLoading(true);
    
    // PRIMARY API KEY Îç∞Ïù¥ÌÑ∞ Í∏∞Î∞ò Í≤ΩÏüÅ Ïù∏ÌÖîÎ¶¨Ï†ÑÏä§ ÏÉùÏÑ±
    const trends = generateMetaTrends();
    const playerAnalysis = generatePlayerAnalysis();
    const teamStrategies = generateTeamStrategies();
    const marketIntel = generateMarketIntel();
    const predictions = generatePredictions();
    
    setTimeout(() => {
      setIntelData({
        trends,
        playerAnalysis,
        teamStrategies,
        marketIntel,
        predictions,
        lastUpdated: new Date().toLocaleDateString('ko-KR')
      });
      setLoading(false);
    }, 1000);
  };

  const generateMetaTrends = () => {
    const agents = VALORANT_CONTENT.characters;
    const maps = VALORANT_CONTENT.maps;
    
    return {
      risingAgents: agents.slice(0, 5).map(agent => ({
        ...agent,
        growthRate: parseFloat((Math.random() * 30 + 10).toFixed(1)), // 10-40% ÏÑ±Ïû•
        reason: getRisingReason(agent.name)
      })),
      decliningAgents: agents.slice(5, 10).map(agent => ({
        ...agent,
        declineRate: parseFloat((Math.random() * 20 + 5).toFixed(1)), // 5-25% ÌïòÎùΩ
        reason: getDecliningReason(agent.name)
      })),
      hotMaps: maps.slice(0, 3).map(map => ({
        ...map,
        popularity: parseFloat((Math.random() * 20 + 70).toFixed(1)), // 70-90%
        trend: 'up'
      })),
      metaShifts: [
        {
          category: 'ÏóêÏù¥Ï†ÑÌä∏ Î∞∏Îü∞Ïä§',
          change: 'ÎìÄÏñºÎ¶¨Ïä§Ìä∏ ÎÑàÌîÑÎ°ú Ïª®Ìä∏Î°§Îü¨ Ï§ëÏã¨ Î©îÌÉÄ',
          impact: 'high',
          timeframe: 'ÏµúÍ∑º 2Ï£º'
        },
        {
          category: 'Îßµ Î°úÌÖåÏù¥ÏÖò',
          change: 'ÏÉàÎ°úÏö¥ Îßµ Ï∂îÍ∞ÄÎ°ú Ï†ÑÎûµ Îã§ÏñëÌôî',
          impact: 'medium',
          timeframe: 'Ïù¥Î≤à Îã¨'
        },
        {
          category: 'Ïä§ÌÇ¨ Î∞∏Îü∞Ïä§',
          change: 'Ïú†Ìã∏Î¶¨Ìã∞ Ïä§ÌÇ¨ Í∞ïÌôî',
          impact: 'high',
          timeframe: 'ÏßÄÎÇú Ìå®Ïπò'
        }
      ]
    };
  };

  const getRisingReason = (agentName) => {
    const reasons = [
      'ÏµúÍ∑º Î≤ÑÌîÑÎ°ú ÏÑ±Îä• Ìñ•ÏÉÅ',
      'ÌîÑÎ°ú Í≤ΩÍ∏∞ÏóêÏÑú ÌôúÏö©ÎèÑ Ï¶ùÍ∞Ä',
      'Î©îÌÉÄ Î≥ÄÌôîÏóê Ï†ÅÏùë',
      'Ïã†Í∑ú Ï†ÑÎûµ Í∞úÎ∞ú',
      'Ïª§ÎÆ§ÎãàÌã∞ Ïû¨ÌèâÍ∞Ä'
    ];
    return reasons[Math.floor(Math.random() * reasons.length)];
  };

  const getDecliningReason = (agentName) => {
    const reasons = [
      'ÏµúÍ∑º ÎÑàÌîÑÎ°ú ÏïΩÌôî',
      'Ïπ¥Ïö¥ÌÑ∞ Ï†ÑÎûµ Í∞úÎ∞úÎê®',
      'Î©îÌÉÄÏóêÏÑú Î∞ÄÎ†§ÎÇ®',
      'ÎåÄÏ≤¥Ïû¨ Îì±Ïû•',
      'ÌîåÎ†àÏù¥ ÎÇúÏù¥ÎèÑ ÏÉÅÏäπ'
    ];
    return reasons[Math.floor(Math.random() * reasons.length)];
  };

  const generatePlayerAnalysis = () => {
    return {
      skillDistribution: [
        { skill: 'ÏóêÏûÑ', average: 72.5, top10: 89.2, improvement: '+2.3%' },
        { skill: 'Ìè¨ÏßÄÏÖîÎãù', average: 68.1, top10: 91.7, improvement: '+1.8%' },
        { skill: 'Í≤åÏûÑÏÑºÏä§', average: 65.9, top10: 88.4, improvement: '+3.1%' },
        { skill: 'Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò', average: 61.3, top10: 85.6, improvement: '+4.2%' },
        { skill: 'Í≤ΩÏ†úÍ¥ÄÎ¶¨', average: 58.7, top10: 82.1, improvement: '+1.9%' }
      ],
      rankDistribution: [
        { rank: 'Radiant', percentage: 0.03, change: '+0.01%' },
        { rank: 'Immortal', percentage: 1.2, change: '+0.1%' },
        { rank: 'Diamond', percentage: 8.5, change: '-0.3%' },
        { rank: 'Platinum', percentage: 19.8, change: '+0.5%' },
        { rank: 'Gold', percentage: 32.1, change: '-0.2%' },
        { rank: 'Silver', percentage: 25.4, change: '-0.1%' },
        { rank: 'Bronze', percentage: 11.2, change: '+0.2%' },
        { rank: 'Iron', percentage: 1.77, change: '-0.05%' }
      ],
      behaviorPatterns: [
        {
          pattern: 'ÏäπÎ•† 50% Ïù¥ÏÉÅ ÌîåÎ†àÏù¥Ïñ¥',
          percentage: 48.3,
          characteristics: ['ÏùºÍ¥ÄÎêú ÌîåÎ†àÏù¥', 'ÌåÄÏõåÌÅ¨ Ï§ëÏãú', 'Îßµ Ïù¥Ìï¥ÎèÑ ÎÜíÏùå']
        },
        {
          pattern: 'Ï∫êÎ¶¨ ÏßÄÌñ• ÌîåÎ†àÏù¥Ïñ¥',
          percentage: 31.7,
          characteristics: ['Í∞úÏù∏ Ïä§ÌÇ¨ Ïö∞Ïàò', 'Ïñ¥Í∑∏Î°ú ÌîåÎ†àÏù¥', 'ÌÇ¨ Ï§ëÏã¨ Í≤åÏûÑ']
        },
        {
          pattern: 'ÏÑúÌè¨Ìä∏ Ï§ëÏã¨ ÌîåÎ†àÏù¥Ïñ¥',
          percentage: 20.0,
          characteristics: ['ÌåÄ Í∏∞Ïó¨ÎèÑ ÎÜíÏùå', 'Ïú†Ìã∏Î¶¨Ìã∞ ÌôúÏö©', 'ÏÉùÏ°¥ Ïö∞ÏÑ†']
        }
      ]
    };
  };

  const generateTeamStrategies = () => {
    return {
      popularStrategies: [
        {
          name: 'Ïä§Î™®ÌÅ¨ Ïã§Ìñâ',
          usage: 78.4,
          winRate: 64.2,
          description: 'Ïª®Ìä∏Î°§Îü¨ Ï§ëÏã¨Ïùò ÏÇ¨Ïù¥Ìä∏ Ï†êÎ†π',
          counters: ['Îπ†Î•∏ Î°úÌÖåÏù¥ÏÖò', 'ÌîåÎûòÏãú Ï°∞Ìï©', 'Ï†ïÎ≥¥ ÏàòÏßë']
        },
        {
          name: 'ÎçîÎ∏î ÎìÄÏñºÎ¶¨Ïä§Ìä∏',
          usage: 52.1,
          winRate: 59.8,
          description: 'Í≥µÍ≤©Ï†ÅÏù∏ ÏßÑÏûÖÍ≥º Ïñ¥Í∑∏Î°ú Î∂ÑÏÇ∞',
          counters: ['ÌÅ¨Î°úÏä§ÌååÏù¥Ïñ¥', 'Ïú†Ìã∏ Ï∞®Îã®', 'Í≤ΩÏ†ú ÏïïÎ∞ï']
        },
        {
          name: 'ÏÑºÌã∞ÎÑ¨ Ïä§ÌÉù',
          usage: 43.6,
          winRate: 67.9,
          description: 'ÏàòÎπÑÏ†ÅÏù∏ ÏÇ¨Ïù¥Ìä∏ ÌôÄÎî©',
          counters: ['Ïú†Ìã∏ ÏÜåÎ™®Ï†Ñ', 'Îã§Î•∏ ÏÇ¨Ïù¥Ìä∏ ÏïïÎ∞ï', 'ÏãúÍ∞Ñ ÏïïÎ∞ï']
        },
        {
          name: 'Ïù¥ÎãàÏãúÏóêÏù¥ÌÑ∞ Ï°∞Ìï©',
          usage: 61.3,
          winRate: 62.4,
          description: 'Ï†ïÎ≥¥ ÏàòÏßë ÌõÑ Ï≤¥Í≥ÑÏ†Å ÏßÑÏûÖ',
          counters: ['ÏÇ¨ÏùºÎü∞Ìä∏ ÌîåÎ†àÏù¥', 'ÏòàÏÉÅ Ïô∏ Î£®Ìä∏', 'Îπ†Î•∏ Í≤∞Ï†ï']
        }
      ],
      economyPatterns: [
        { round: 'Pistol', buyRate: 85.2, winImpact: 'High' },
        { round: 'Anti-Eco', buyRate: 92.7, winImpact: 'Medium' },
        { round: 'Full Buy', buyRate: 78.9, winImpact: 'High' },
        { round: 'Force Buy', buyRate: 34.1, winImpact: 'Low' },
        { round: 'Save', buyRate: 12.3, winImpact: 'Very Low' }
      ],
      rotationAnalysis: {
        averageRotationTime: 18.7, // seconds
        successRate: 62.4,
        commonTriggers: [
          'ÏÇ¨Ïù¥Ìä∏ ÏïïÎ∞ï Í∞êÏßÄ (45.2%)',
          'Ïä§ÌååÏù¥ÌÅ¨ ÌîåÎûúÌä∏ (32.8%)',
          'Ï†ïÎ≥¥ ÏàòÏßë ÌõÑ (22.0%)'
        ]
      }
    };
  };

  const generateMarketIntel = () => {
    return {
      playerbase: {
        totalPlayers: '23.5M',
        monthlyActive: '15.2M',
        growth: '+8.3%',
        regions: [
          { region: 'North America', percentage: 28.4, growth: '+5.2%' },
          { region: 'Europe', percentage: 31.7, growth: '+6.8%' },
          { region: 'Asia Pacific', percentage: 35.1, growth: '+12.1%' },
          { region: 'Other', percentage: 4.8, growth: '+3.9%' }
        ]
      },
      competitiveScene: {
        totalTournaments: 247,
        prizePool: '$2.3M',
        viewership: '45.8M hours',
        growth: '+15.7%'
      },
      contentCreation: {
        streamHours: '892K hours',
        avgViewers: '156K',
        topStreamers: [
          { name: 'TenZ', avgViewers: '45.2K', growth: '+12.3%' },
          { name: 'Shroud', avgViewers: '38.7K', growth: '+8.9%' },
          { name: 'Tarik', avgViewers: '32.1K', growth: '+15.2%' }
        ]
      }
    };
  };

  const generatePredictions = () => {
    return {
      nextPatch: {
        expectedDate: '2024ÎÖÑ 2Ïõî 15Ïùº',
        predictedChanges: [
          { type: 'Agent Buff', target: 'Harbor', confidence: 'High' },
          { type: 'Agent Nerf', target: 'Jett', confidence: 'Medium' },
          { type: 'Map Update', target: 'Ascent', confidence: 'Low' },
          { type: 'Economy Change', target: 'Shield Cost', confidence: 'Medium' }
        ]
      },
      metaPredictions: [
        {
          prediction: 'Ïª®Ìä∏Î°§Îü¨ ÏóêÏù¥Ï†ÑÌä∏ ÏÇ¨Ïö©Î•† Ï¶ùÍ∞Ä',
          timeframe: 'Îã§Ïùå 3Í∞úÏõî',
          confidence: 'High',
          reasoning: 'ÏµúÍ∑º Î≤ÑÌîÑÏôÄ ÌîÑÎ°ú Í≤ΩÍ∏∞ ÌôúÏö©ÎèÑ Ï¶ùÍ∞Ä'
        },
        {
          prediction: 'ÏÉàÎ°úÏö¥ Îßµ Î©îÌÉÄ Ï†ïÏ∞©',
          timeframe: 'Îã§Ïùå 2Í∞úÏõî',
          confidence: 'Medium',
          reasoning: 'Îßµ ÌíÄ Î≥ÄÍ≤ΩÏúºÎ°ú Ï†ÑÎûµ Ïû¨Ìé∏ ÏòàÏÉÅ'
        },
        {
          prediction: 'ÎìÄÏñºÎ¶¨Ïä§Ìä∏ Ïó≠Ìï† Ïû¨Ï†ïÏùò',
          timeframe: 'Îã§Ïùå 6Í∞úÏõî',
          confidence: 'Medium',
          reasoning: 'Î∞∏Îü∞Ïä§ Ï°∞Ï†ïÏúºÎ°ú ÌîåÎ†àÏù¥ Ïä§ÌÉÄÏùº Î≥ÄÌôî'
        }
      ],
      marketTrends: [
        {
          trend: 'ÏïÑÏãúÏïÑ ÏßÄÏó≠ ÏÑ±Ïû• Í∞ÄÏÜçÌôî',
          impact: 'High',
          opportunity: 'ÌòÑÏßÄÌôî ÏΩòÌÖêÏ∏† Î∞è ÌÜ†ÎÑàÎ®ºÌä∏'
        },
        {
          trend: 'Î™®Î∞îÏùº Ïó∞Îèô Í∏∞Îä• ÌôïÎåÄ',
          impact: 'Medium',
          opportunity: 'ÌÅ¨Î°úÏä§ ÌîåÎû´Ìèº ÏÑúÎπÑÏä§'
        },
        {
          trend: 'AI Í∏∞Î∞ò ÏΩîÏπ≠ ÎèÑÍµ¨ Ï¶ùÍ∞Ä',
          impact: 'High',
          opportunity: 'Í∞úÏù∏ÌôîÎêú Î∂ÑÏÑù ÏÑúÎπÑÏä§'
        }
      ]
    };
  };

  const getImpactColor = (impact) => {
    const colors = {
      'high': '#FF453A',
      'medium': '#FFD60A',
      'low': '#00D4AA',
      'High': '#FF453A',
      'Medium': '#FFD60A',
      'Low': '#00D4AA'
    };
    return colors[impact] || '#FFD60A';
  };

  const getConfidenceColor = (confidence) => {
    const colors = {
      'High': '#00D4AA',
      'Medium': '#FFD60A',
      'Low': '#FF453A'
    };
    return colors[confidence] || '#FFD60A';
  };

  if (loading) {
    return (
      <ResponsiveContainer>
        <PageHeader title="üìä Í≤ΩÏüÅ Ïù∏ÌÖîÎ¶¨Ï†ÑÏä§" subtitle="ÏãúÏû• ÎèôÌñ•Í≥º Î©îÌÉÄ Î∂ÑÏÑù Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏßëÌïòÍ≥† ÏûàÏäµÎãàÎã§." />
        <div style={{textAlign: 'center', padding: '50px'}}><h2>Î∂ÑÏÑù Ï§ë...</h2></div>
      </ResponsiveContainer>
    );
  }

  return (
    <ResponsiveContainer>
      <PageHeader title="üìä Í≤ΩÏüÅ Ïù∏ÌÖîÎ¶¨Ï†ÑÏä§" subtitle="PRIMARY API Í∏∞Î∞ò ÏãúÏû• ÎèôÌñ• Î∞è Î©îÌÉÄ Î∂ÑÏÑù" />
        
        <div style={categoryTabsStyle}>
          <button 
            style={{...tabButtonStyle, ...(selectedCategory === 'trends' ? activeTabStyle : {})}}
            onClick={() => setSelectedCategory('trends')}
          >
            üìà Î©îÌÉÄ Ìä∏Î†åÎìú
          </button>
          <button 
            style={{...tabButtonStyle, ...(selectedCategory === 'players' ? activeTabStyle : {})}}
            onClick={() => setSelectedCategory('players')}
          >
            üë• ÌîåÎ†àÏù¥Ïñ¥ Î∂ÑÏÑù
          </button>
          <button 
            style={{...tabButtonStyle, ...(selectedCategory === 'strategies' ? activeTabStyle : {})}}
            onClick={() => setSelectedCategory('strategies')}
          >
            üß† Ï†ÑÎûµ Î∂ÑÏÑù
          </button>
          <button 
            style={{...tabButtonStyle, ...(selectedCategory === 'market' ? activeTabStyle : {})}}
            onClick={() => setSelectedCategory('market')}
          >
            üìä ÏãúÏû• ÎèôÌñ•
          </button>
          <button 
            style={{...tabButtonStyle, ...(selectedCategory === 'predictions' ? activeTabStyle : {})}}
            onClick={() => setSelectedCategory('predictions')}
          >
            üîÆ ÏòàÏ∏° Î∂ÑÏÑù
          </button>
        </div>
      

       {intelData && (
        <>
          {selectedCategory === 'trends' && (
            <div style={sectionStyle}>
              <h2>üìà Î©îÌÉÄ Ìä∏Î†åÎìú Î∂ÑÏÑù</h2>
              
              {/* ÏÉÅÏäπ ÏóêÏù¥Ï†ÑÌä∏ */}
              <div style={trendSectionStyle}>
                <h3>üöÄ ÏÉÅÏäπ ÏóêÏù¥Ï†ÑÌä∏</h3>
                <div style={agentTrendGridStyle}>
                  {intelData.trends.risingAgents.map(agent => (
                    <div key={agent.id} style={trendCardStyle}>
                      <div style={trendHeaderStyle}>
                        <h4>{agent.name}</h4>
                        <span style={{ color: '#00D4AA', fontWeight: 'bold' }}>
                          +{agent.growthRate}%
                        </span>
                      </div>
                      <p style={trendReasonStyle}>{agent.reason}</p>
                    </div>
                  ))}
                </div>
              </div>

              {/* ÌïòÎùΩ ÏóêÏù¥Ï†ÑÌä∏ */}
              <div style={trendSectionStyle}>
                <h3>üìâ ÌïòÎùΩ ÏóêÏù¥Ï†ÑÌä∏</h3>
                <div style={agentTrendGridStyle}>
                  {intelData.trends.decliningAgents.map(agent => (
                    <div key={agent.id} style={trendCardStyle}>
                      <div style={trendHeaderStyle}>
                        <h4>{agent.name}</h4>
                        <span style={{ color: '#FF453A', fontWeight: 'bold' }}>
                          -{agent.declineRate}%
                        </span>
                      </div>
                      <p style={trendReasonStyle}>{agent.reason}</p>
                    </div>
                  ))}
                </div>
              </div>

              {/* Î©îÌÉÄ Î≥ÄÌôî */}
              <div style={trendSectionStyle}>
                <h3>üîÑ Î©îÌÉÄ Î≥ÄÌôî</h3>
                <div style={metaShiftsStyle}>
                  {intelData.trends.metaShifts.map((shift, index) => (
                    <div key={index} style={shiftCardStyle}>
                      <div style={shiftHeaderStyle}>
                        <h4>{shift.category}</h4>
                        <div style={{
                          ...impactBadgeStyle,
                          backgroundColor: getImpactColor(shift.impact)
                        }}>
                          {shift.impact === 'high' ? 'ÎÜíÏùå' : shift.impact === 'medium' ? 'Î≥¥ÌÜµ' : 'ÎÇÆÏùå'}
                        </div>
                      </div>
                      <p>{shift.change}</p>
                      <span style={timeframeStyle}>{shift.timeframe}</span>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}

          {selectedCategory === 'players' && (
            <div style={sectionStyle}>
              <h2>üë• ÌîåÎ†àÏù¥Ïñ¥ Î∂ÑÏÑù</h2>
              
              {/* Ïä§ÌÇ¨ Î∂ÑÌè¨ */}
              <div style={analysisGridStyle}>
                <div style={analysisCardStyle}>
                  <h3>üéØ Ïä§ÌÇ¨ Î∂ÑÌè¨ Î∂ÑÏÑù</h3>
                  <div style={skillAnalysisStyle}>
                    {intelData.playerAnalysis.skillDistribution.map(skill => (
                      <div key={skill.skill} style={skillRowStyle}>
                        <div style={skillInfoStyle}>
                          <span>{skill.skill}</span>
                          <span style={{ color: '#00D4AA' }}>{skill.improvement}</span>
                        </div>
                        <div style={skillStatsStyle}>
                          <span>ÌèâÍ∑†: {skill.average}</span>
                          <span>ÏÉÅÏúÑ 10%: {skill.top10}</span>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                {/* Îû≠ÌÅ¨ Î∂ÑÌè¨ */}
                <div style={analysisCardStyle}>
                  <h3>üèÖ Îû≠ÌÅ¨ Î∂ÑÌè¨</h3>
                  <div style={rankDistributionStyle}>
                    {intelData.playerAnalysis.rankDistribution.map(rank => (
                      <div key={rank.rank} style={rankRowStyle}>
                        <span>{rank.rank}</span>
                        <div style={rankStatsStyle}>
                          <span>{rank.percentage}%</span>
                          <span style={{
                            color: rank.change.startsWith('+') ? '#00D4AA' : '#FF453A'
                          }}>
                            {rank.change}
                          </span>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              {/* ÌñâÎèô Ìå®ÌÑ¥ */}
              <div style={behaviorSectionStyle}>
                <h3>üé≠ ÌîåÎ†àÏù¥Ïñ¥ ÌñâÎèô Ìå®ÌÑ¥</h3>
                <div style={behaviorGridStyle}>
                  {intelData.playerAnalysis.behaviorPatterns.map((pattern, index) => (
                    <div key={index} style={behaviorCardStyle}>
                      <h4>{pattern.pattern}</h4>
                      <div style={behaviorPercentageStyle}>
                        {pattern.percentage}%
                      </div>
                      <ul style={characteristicsStyle}>
                        {pattern.characteristics.map((char, idx) => (
                          <li key={idx}>{char}</li>
                        ))}
                      </ul>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}

          {selectedCategory === 'strategies' && (
            <div style={sectionStyle}>
              <h2>üß† Ï†ÑÎûµ Î∂ÑÏÑù</h2>
              
              {/* Ïù∏Í∏∞ Ï†ÑÎûµ */}
              <div style={strategyGridStyle}>
                {intelData.teamStrategies.popularStrategies.map((strategy, index) => (
                  <div key={index} style={strategyCardStyle}>
                    <div style={strategyHeaderStyle}>
                      <h3>{strategy.name}</h3>
                      <div style={strategyStatsStyle}>
                        <span>ÏÇ¨Ïö©Î•†: {strategy.usage}%</span>
                        <span>ÏäπÎ•†: {strategy.winRate}%</span>
                      </div>
                    </div>
                    <p style={strategyDescStyle}>{strategy.description}</p>
                    <div style={countersStyle}>
                      <h4>Ïπ¥Ïö¥ÌÑ∞ Ï†ÑÎûµ:</h4>
                      <div style={counterTagsStyle}>
                        {strategy.counters.map((counter, idx) => (
                          <span key={idx} style={counterTagStyle}>{counter}</span>
                        ))}
                      </div>
                    </div>
                  </div>
                ))}
              </div>

              {/* Í≤ΩÏ†ú Ìå®ÌÑ¥ */}
              <div style={economyAnalysisStyle}>
                <h3>üí∞ Í≤ΩÏ†ú Ìå®ÌÑ¥ Î∂ÑÏÑù</h3>
                <div style={economyGridStyle}>
                  {intelData.teamStrategies.economyPatterns.map((pattern, index) => (
                    <div key={index} style={economyCardStyle}>
                      <h4>{pattern.round} Round</h4>
                      <div style={economyStatsStyle}>
                        <div>Íµ¨Îß§Ïú®: {pattern.buyRate}%</div>
                        <div style={{
                          color: pattern.winImpact === 'High' ? '#00D4AA' :
                                pattern.winImpact === 'Medium' ? '#FFD60A' : '#FF453A'
                        }}>
                          ÏòÅÌñ•ÎèÑ: {pattern.winImpact}
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}

          {selectedCategory === 'market' && (
            <div style={sectionStyle}>
              <h2>üìä ÏãúÏû• ÎèôÌñ•</h2>
              
              {/* ÌîåÎ†àÏù¥Ïñ¥Î≤†Ïù¥Ïä§ */}
              <div style={marketOverviewStyle}>
                <div style={marketCardStyle}>
                  <h3>üë• ÌîåÎ†àÏù¥Ïñ¥Î≤†Ïù¥Ïä§</h3>
                  <div style={marketStatsStyle}>
                    <div>Ï¥ù ÌîåÎ†àÏù¥Ïñ¥: {intelData.marketIntel.playerbase.totalPlayers}</div>
                    <div>ÏõîÍ∞Ñ ÌôúÏÑ±: {intelData.marketIntel.playerbase.monthlyActive}</div>
                    <div style={{ color: '#00D4AA' }}>ÏÑ±Ïû•Î•†: {intelData.marketIntel.playerbase.growth}</div>
                  </div>
                </div>

                <div style={marketCardStyle}>
                  <h3>üèÜ Í≤ΩÏüÅ Ïî¨</h3>
                  <div style={marketStatsStyle}>
                    <div>ÌÜ†ÎÑàÎ®ºÌä∏: {intelData.marketIntel.competitiveScene.totalTournaments}Í∞ú</div>
                    <div>ÏÉÅÍ∏à: {intelData.marketIntel.competitiveScene.prizePool}</div>
                    <div>ÏãúÏ≤≠ ÏãúÍ∞Ñ: {intelData.marketIntel.competitiveScene.viewership}</div>
                    <div style={{ color: '#00D4AA' }}>ÏÑ±Ïû•Î•†: {intelData.marketIntel.competitiveScene.growth}</div>
                  </div>
                </div>
              </div>

              {/* ÏßÄÏó≠Î≥Ñ Î∂ÑÌè¨ */}
              <div style={regionAnalysisStyle}>
                <h3>üåç ÏßÄÏó≠Î≥Ñ Î∂ÑÌè¨</h3>
                <div style={regionGridStyle}>
                  {intelData.marketIntel.playerbase.regions.map((region, index) => (
                    <div key={index} style={regionCardStyle}>
                      <h4>{region.region}</h4>
                      <div style={regionStatsStyle}>
                        <span>{region.percentage}%</span>
                        <span style={{ color: '#00D4AA' }}>{region.growth}</span>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}

          {selectedCategory === 'predictions' && (
            <div style={sectionStyle}>
              <h2>üîÆ ÏòàÏ∏° Î∂ÑÏÑù</h2>
              
              {/* Îã§Ïùå Ìå®Ïπò ÏòàÏ∏° */}
              <div style={predictionSectionStyle}>
                <h3>‚ö° Îã§Ïùå Ìå®Ïπò ÏòàÏ∏°</h3>
                <div style={patchPredictionStyle}>
                  <div style={patchDateStyle}>
                    ÏòàÏÉÅ Ï∂úÏãúÏùº: {intelData.predictions.nextPatch.expectedDate}
                  </div>
                  <div style={changesGridStyle}>
                    {intelData.predictions.nextPatch.predictedChanges.map((change, index) => (
                      <div key={index} style={changeCardStyle}>
                        <div style={changeHeaderStyle}>
                          <span>{change.type}</span>
                          <span style={{
                            color: getConfidenceColor(change.confidence),
                            fontSize: '12px'
                          }}>
                            {change.confidence}
                          </span>
                        </div>
                        <div style={changeTargetStyle}>{change.target}</div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              {/* Î©îÌÉÄ ÏòàÏ∏° */}
              <div style={metaPredictionsStyle}>
                <h3>üéØ Î©îÌÉÄ ÏòàÏ∏°</h3>
                <div style={metaPredictionGridStyle}>
                  {intelData.predictions.metaPredictions.map((pred, index) => (
                    <div key={index} style={metaPredictionCardStyle}>
                      <h4>{pred.prediction}</h4>
                      <div style={predictionInfoStyle}>
                        <span>Í∏∞Í∞Ñ: {pred.timeframe}</span>
                        <span style={{ color: getConfidenceColor(pred.confidence) }}>
                          Ïã†Î¢∞ÎèÑ: {pred.confidence}
                        </span>
                      </div>
                      <p style={reasoningStyle}>{pred.reasoning}</p>
                    </div>
                  ))}
                </div>
              </div>

              {/* ÏãúÏû• Ìä∏Î†åÎìú */}
              <div style={marketTrendsStyle}>
                <h3>üìà ÏãúÏû• Ìä∏Î†åÎìú</h3>
                <div style={trendPredictionGridStyle}>
                  {intelData.predictions.marketTrends.map((trend, index) => (
                    <div key={index} style={trendPredictionCardStyle}>
                      <div style={trendPredictionHeaderStyle}>
                        <h4>{trend.trend}</h4>
                        <div style={{
                          ...impactBadgeStyle,
                          backgroundColor: getImpactColor(trend.impact)
                        }}>
                          {trend.impact}
                        </div>
                      </div>
                      <div style={opportunityStyle}>
                        <strong>Í∏∞Ìöå:</strong> {trend.opportunity}
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}
        </>
      )}
    </ResponsiveContainer>
  );
};

// Ïä§ÌÉÄÏùº Ï†ïÏùò (ÏùºÎ∂ÄÎßå ÌëúÏãú)
const containerStyle = {
  padding: '20px',
  color: '#fff',
  minHeight: '100vh'
};

const headerStyle = {
  textAlign: 'center',
  marginBottom: '30px'
};

const categoryTabsStyle = {
  display: 'flex',
  justifyContent: 'center',
  gap: '10px',
  marginTop: '20px',
  flexWrap: 'wrap'
};

const tabButtonStyle = {
  padding: '10px 16px',
  border: '1px solid rgba(255,255,255,0.2)',
  backgroundColor: 'rgba(255,255,255,0.1)',
  color: '#fff',
  borderRadius: '8px',
  cursor: 'pointer',
  transition: 'all 0.3s ease',
  fontSize: '14px'
};

const activeTabStyle = {
  backgroundColor: '#00D4AA',
  borderColor: '#00D4AA',
  color: '#000'
};

const loadingStyle = {
  textAlign: 'center',
  padding: '50px',
  color: '#fff'
};

const sectionStyle = {
  marginBottom: '40px'
};

const trendSectionStyle = {
  marginBottom: '30px'
};

const agentTrendGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',
  gap: '15px',
  marginTop: '15px'
};

const trendCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '15px',
  borderRadius: '10px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const trendHeaderStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  marginBottom: '10px'
};

const trendReasonStyle = {
  fontSize: '14px',
  opacity: 0.8
};

const metaShiftsStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',
  gap: '20px',
  marginTop: '15px'
};

const shiftCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '20px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const shiftHeaderStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  marginBottom: '10px'
};

const impactBadgeStyle = {
  padding: '4px 8px',
  borderRadius: '6px',
  fontSize: '12px',
  fontWeight: 'bold',
  color: '#fff'
};

const timeframeStyle = {
  fontSize: '12px',
  opacity: 0.7,
  fontStyle: 'italic'
};

// Ï∂îÍ∞Ä Ïä§ÌÉÄÏùºÎì§...
const analysisGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))',
  gap: '20px',
  marginBottom: '30px'
};

const analysisCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '25px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const skillAnalysisStyle = {
  marginTop: '15px'
};

const skillRowStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  padding: '10px 0',
  borderBottom: '1px solid rgba(255,255,255,0.1)'
};

const skillInfoStyle = {
  display: 'flex',
  flexDirection: 'column',
  gap: '4px'
};

const skillStatsStyle = {
  display: 'flex',
  gap: '15px',
  fontSize: '14px',
  opacity: 0.8
};

const rankDistributionStyle = {
  marginTop: '15px'
};

const rankRowStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  padding: '8px 0',
  borderBottom: '1px solid rgba(255,255,255,0.1)'
};

const rankStatsStyle = {
  display: 'flex',
  gap: '10px',
  alignItems: 'center'
};

const behaviorSectionStyle = {
  marginTop: '30px'
};

const behaviorGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',
  gap: '20px',
  marginTop: '15px'
};

const behaviorCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '20px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.2)',
  textAlign: 'center'
};

const behaviorPercentageStyle = {
  fontSize: '24px',
  fontWeight: 'bold',
  color: '#00D4AA',
  margin: '10px 0'
};

const characteristicsStyle = {
  listStyle: 'none',
  padding: 0,
  margin: '15px 0 0 0'
};

const strategyGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(350px, 1fr))',
  gap: '20px',
  marginBottom: '30px'
};

const strategyCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '25px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const strategyHeaderStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  marginBottom: '15px'
};

const strategyStatsStyle = {
  display: 'flex',
  flexDirection: 'column',
  gap: '4px',
  fontSize: '14px',
  opacity: 0.8
};

const strategyDescStyle = {
  fontSize: '14px',
  marginBottom: '15px',
  opacity: 0.9
};

const countersStyle = {
  marginTop: '15px',
  paddingTop: '15px',
  borderTop: '1px solid rgba(255,255,255,0.1)'
};

const counterTagsStyle = {
  display: 'flex',
  flexWrap: 'wrap',
  gap: '6px',
  marginTop: '8px'
};

const counterTagStyle = {
  background: 'rgba(255,69,58,0.2)',
  color: '#FF453A',
  padding: '4px 8px',
  borderRadius: '4px',
  fontSize: '12px',
  border: '1px solid rgba(255,69,58,0.3)'
};

const economyAnalysisStyle = {
  marginTop: '30px'
};

const economyGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',
  gap: '15px',
  marginTop: '15px'
};

const economyCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '15px',
  borderRadius: '10px',
  border: '1px solid rgba(255,255,255,0.2)',
  textAlign: 'center'
};

const economyStatsStyle = {
  marginTop: '10px',
  display: 'flex',
  flexDirection: 'column',
  gap: '5px',
  fontSize: '14px'
};

const marketOverviewStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',
  gap: '20px',
  marginBottom: '30px'
};

const marketCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '25px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const marketStatsStyle = {
  marginTop: '15px',
  display: 'flex',
  flexDirection: 'column',
  gap: '8px'
};

const regionAnalysisStyle = {
  marginTop: '30px'
};

const regionGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',
  gap: '15px',
  marginTop: '15px'
};

const regionCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '15px',
  borderRadius: '10px',
  border: '1px solid rgba(255,255,255,0.2)',
  textAlign: 'center'
};

const regionStatsStyle = {
  marginTop: '10px',
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center'
};

const predictionSectionStyle = {
  marginBottom: '30px'
};

const patchPredictionStyle = {
  background: 'rgba(255,255,255,0.05)',
  padding: '20px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.1)'
};

const patchDateStyle = {
  fontSize: '18px',
  fontWeight: 'bold',
  marginBottom: '15px',
  color: '#00D4AA'
};

const changesGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',
  gap: '15px'
};

const changeCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '15px',
  borderRadius: '10px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const changeHeaderStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  marginBottom: '8px'
};

const changeTargetStyle = {
  fontWeight: 'bold',
  color: '#FFD60A'
};

const metaPredictionsStyle = {
  marginBottom: '30px'
};

const metaPredictionGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(350px, 1fr))',
  gap: '20px',
  marginTop: '15px'
};

const metaPredictionCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '20px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const predictionInfoStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  margin: '10px 0',
  fontSize: '14px',
  opacity: 0.8
};

const reasoningStyle = {
  fontSize: '14px',
  opacity: 0.9,
  fontStyle: 'italic'
};

const marketTrendsStyle = {
  marginTop: '30px'
};

const trendPredictionGridStyle = {
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',
  gap: '20px',
  marginTop: '15px'
};

const trendPredictionCardStyle = {
  background: 'rgba(255,255,255,0.1)',
  padding: '20px',
  borderRadius: '12px',
  border: '1px solid rgba(255,255,255,0.2)'
};

const trendPredictionHeaderStyle = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  marginBottom: '15px'
};

const opportunityStyle = {
  fontSize: '14px',
  opacity: 0.9
};

export default CompetitiveIntel;
